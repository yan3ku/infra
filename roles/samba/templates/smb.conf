#
# Sample configuration file for the Samba suite for Debian GNU/Linux.
#
#
# This is the main Samba configuration file. You should read the
# smb.conf(5) manual page in order to understand the options listed
# here. Samba has a huge number of configurable options most of which
# are not shown in this example
#
# Some options that are often worth tuning have been included as
# commented-out examples in this file.
#  - When such options are commented with ";", the proposed setting
#    differs from the default Samba behaviour
#  - When commented with "#", the proposed setting is the default
#    behaviour of Samba but the option is considered important
#    enough to be mentioned here
#
# NOTE: Whenever you modify this file you should run the command
# "testparm" to check that you have not made any basic syntactic
# errors.

#======================= Global Settings =======================
[global]
   server role = standalone server
   workgroup = WORKGROUP
   interfaces = wg86 eth86 eth0 eth1
   bind interfaces only = yes
   hosts allow = {{ smb_allow_hosts }}
   map to guest = bad user

   log file = /var/log/samba/log.%m
   max log size = 1000
   logging = file syslog@1
   # crash action
   panic action = /usr/share/samba/panic-action %d
   obey pam restrictions = yes
   unix password sync = yes
   passwd program = /usr/bin/passwd %u
   passwd chat = *Enter\snew\s*\spassword:* %n\n *Retype\snew\s*\spassword:* %n\n *password\supdated\ssuccessfully* .
   pam password change = yes

   acl allow execute always = True
#======================= Share Definitions =======================
[pool]
   comment = Media Pool
   browseable = yes
   read only = no
   path = /mnt/pool/data
   valid users = yaneko
   create mask = 0664
   directory mask = 0775

[homes]
   comment = Home Directory
   browseable = yes
   read only = no
   valid users = yaneko
   create mask = 0600
   directory mask = 0700
