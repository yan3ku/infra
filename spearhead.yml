---
- name: Deploy NAS
  hosts: spearhead
  become: true
  vars:
    shell: /bin/bash
    username: yaneko
    user_git: git@github.com:yan3ku/config.git
    user_groups: ['users', 'sudo', 'docker']
    ssh_port: 1234
    ip_addr: 192.168.1.86/24
    wg_subnet: 10.0.0.0/24
    lan_nets:
      - 192.168.1.0/24
      - 10.0.0.0/24
    dns1: 8.8.8.8
    dns2: 8.8.4.4
    packages:
      - emacs
      - tmux
      - xfsprogs
      - htop
      - dos2unix
      - tcpdump
      - lm-sensors
      - fancontrol
  roles:
    - role: ansible
    - role: apt
    - role: pool
    - role: groups
    - role: user
    - role: ssh
    # - role: networkd
    - role: smartd
    - role: firewall
    - role: config
    - role: gpg
    - role: samba
    - role: mail
    - role: wireguard
    - role: geerlingguy.docker
    - role: backup
